<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="notesApp">
  <head>
    <style media="screen">
      .done {
        background-color: green;
        border : solid 1px black;
        }
        .pending {
        background-color: red;
        border : solid 3px red;
        }
    </style>
    <meta charset="utf-8">
    <title>Displaying Arrays</title>

    <!--Loading the Angular library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.js">
    </script>

    <script type="text/javascript">

      angular.module('notesApp',[])
      .controller('mainControl',[

      function(){

        console.log("Main Controller created.");
        var self=this;

        //an array of json objects
        self.notes=[
        { name : "sai", usn : "255", done: true,lastname:"rohit"},
        { name : "sachit", usn : "251",done: false,lastname:"batra"},
        { name : "sayak", usn : "273",done: true}
        ];

        self.getNoteClass = function(status)
        {
          //returns done if status is true and pending is isn't
          return {
            done : status,
            pending : !status
          };
        };
      }]);

    </script>

  </head>
  <body ng-controller="mainControl as main">

    <!--
    using the ng-repeat directive
    iterate over a list and apply to a new DOM Element
    seperatelly.
      -->

    <!--

      ng-class is set to the string that is returned from the function.

    -->
    <div ng-repeat="note in main.notes"
      ng-class="main.getNoteClass(note.done)">

      <p> Hi {{note.name}}. Your USN is {{note.usn}}. </p>

      <!-- ng-show displays based on a condition -->
      <span class="assignee"
      ng-show="note.lastname"
      ng-bind="note.lastname">
      </span>

    </div>

  </body>
</html>
